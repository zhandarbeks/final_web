<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fragrances</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">
          <span>Fragrance</span>
        </div>
        <ul class="navbar-menu">
          <li><a href="/profile">Profile</a></li>
          <li><a href="/fragrances">Fragrances</a></li>
          <li><a href="/cart">Cart</a></li>
          <li><a href="/logout">Logout</a></li>
        </ul>
      </nav>
      
    <div class="container">
        <h1>Fragrance Catalog</h1>
        <form action="/fragrances" method="GET" class="filter-form">
            <label>Gender:
                <select name="gender">
                    <option value="">All</option>
                    <option value="Men">Men</option>
                    <option value="Women">Women</option>
                    <option value="Unisex">Unisex</option>
                </select>
            </label>

            <label>Brand:
                <select name="brand">
                    <option value="">All</option>
                    <option value="Tom Ford">Tom Ford</option>
                </select>
            </label>

            <label>Scent:
                <select name="scent">
                    <option value="">All</option>
                    <option value="Amber">Amber</option>
                    <option value="Floral">Floral</option>
                    <option value="Leather">Leather</option>
                    <option value="Spicy">Spicy</option>
                    <option value="Sweet">Sweet</option>
                    <option value="Woody">Woody</option>
                </select>
            </label>

            <label>Top Notes:
                <select name="top_notes">
                    <option value="">All</option>
                    <option value="Bergamot">Bergamot</option>
                    <option value="Cardamom">Cardamom</option>
                    <option value="Leather">Leather</option>
                    <option value="Saffron">Saffron</option>
                    <option value="Vanilla">Vanilla</option>
                </select>
            </label>

            <label>Season:
                <select name="season">
                    <option value="">All</option>
                    <option value="Winter">Winter</option>
                    <option value="Fall">Fall</option>
                    <option value="Spring">Spring</option>
                    <option value="Summer">Summer</option>
                </select>
            </label>

            <label>Sort By:
                <select name="sortBy">
                    <option value="name">Name</option>
                    <option value="price">Price</option>
                </select>
            </label>

            <label>Order:
                <select name="order">
                    <option value="asc">Ascending</option>
                    <option value="desc">Descending</option>
                </select>
            </label>

            <button type="submit">Apply Filters</button>
        </form>

        <div class="fragrance-list">
            <% fragrances.forEach(fragrance => { %>
                <div class="fragrance-card">
                    <img src="/uploads/<%= fragrance.image %>" alt="<%= fragrance.name %>">
                    <h3><a href="/fragrance/<%= fragrance._id %>"><%= fragrance.name %></a></h3>
                    <p><strong>Brand:</strong> <%= fragrance.brand %></p>
                    <p><strong>Gender:</strong> <%= fragrance.gender %></p>
                    <p><strong>Scent:</strong> <%= fragrance.scent.join(', ') %></p>
                    <p><strong>Top Notes:</strong> <%= fragrance.top_notes.join(', ') %></p>
                    <p><strong>Season:</strong> <%= fragrance.season.join(', ') %></p>
                    <p><strong>Price:</strong> $<%= Math.round(Object.values(fragrance.sizes)[0]) %></p>
                </div>
            <% }) %>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 Fragrance Store</p>
    </footer>
</body>
</html>
